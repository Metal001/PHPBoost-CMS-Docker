function HTMLForms(){}HTMLForms.forms=new Array,HTMLForms.add=function(form){return HTMLForms.forms.push(form)},HTMLForms.get=function(id){var form=null;return jQuery.each(HTMLForms.forms,(function(index,aForm){if(aForm.getId()==id)return form=aForm,!1})),form},HTMLForms.has=function(id){return null!=HTMLForms.get(id)},HTMLForms.getFieldset=function(id){var fieldset=null;return jQuery.each(HTMLForms.forms,(function(index,form){var aFieldset=form.getFieldset(id);if(null!=aFieldset)return fieldset=aFieldset,!1})),fieldset},HTMLForms.getField=function(id){var field=null;return jQuery.each(HTMLForms.forms,(function(index,form){var aField=form.getField(id);if(null!=aField)return field=aField,!1})),field};var $HF=HTMLForms.get,$FFS=HTMLForms.getFieldset,$FF=HTMLForms.getField,HTMLForm=function(id){this.id=id,this.fieldsets=new Array};HTMLForm.prototype={getId:function(){return this.id},addFieldset:function(fieldset){this.fieldsets.push(fieldset),fieldset.setFormId(this.id)},getFieldset:function(id){var fieldset=null;return jQuery.each(this.fieldsets,(function(index,aFieldset){if(aFieldset.getId()==id)return fieldset=aFieldset,!1})),fieldset},getFieldsets:function(){return this.fieldsets},hasFieldset:function(id){var hasFieldset=!1;return jQuery.each(this.fieldsets,(function(index,aFieldset){if(aFieldset.getId()==id)return hasFieldset=!0,!1})),hasFieldset},getFields:function(){var fields=new Array;return jQuery.each(this.fieldsets,(function(index,fieldset){jQuery.each(fieldset.getFields(),(function(index,field){fields.push(field)}))})),fields},getField:function(id){var field=null;return jQuery.each(this.getFields(),(function(index,aField){if(aField.getId()==id)return field=aField,!1})),field},validate:function(){var validated=!0,validation="";return jQuery.each(this.getFields(),(function(index,field){var field_validation=field.validate();""!=field_validation&&(validation=validation+"\n\n"+field_validation,validated=!1)})),0==validated&&(this.displayValidationError(validation),jQuery("html, body").animate({scrollTop:jQuery("#"+this.id).offset().top},"slow")),this.registerDisabledFields(),validated},displayValidationError:function(message){message=(message=message.replace(/&quot;/g,'"')).replace(/&amp;/g,"&"),alert(message)},registerDisabledFields:function(){var disabledFields="";jQuery.each(this.getFields(),(function(index,field){field.isDisabled()&&(disabledFields+="|"+field.getId())})),jQuery("#"+this.id+"_disabled_fields").val(disabledFields);var disabledFieldsets="";jQuery.each(this.getFieldsets(),(function(index,fieldset){fieldset.isDisabled()&&(disabledFieldsets+="|"+fieldset.getId())})),jQuery("#"+this.id+"_disabled_fieldsets").val(disabledFieldsets)}};var FormFieldset=function(id){this.id=id,this.fields=new Array,this.disabled=!1,this.formId=""};FormFieldset.prototype={getId:function(){return this.id},getHTMLId:function(){return this.formId+"_"+this.id},setFormId:function(formId){this.formId=formId},addField:function(field){this.fields.push(field),field.setFormId(this.formId)},getField:function(id){var field=null;return jQuery.each(this.fields,(function(index,aField){if(aField.getId()==id)return field=aField,!1})),field},getFields:function(){return this.fields},hasField:function(id){var hasField=!1;return jQuery.each(this.fields,(function(index,field){if(field.getId()==id)return hasField=!0,!1})),hasField},enable:function(){this.disabled=!1,jQuery("#"+this.getHTMLId()).fadeIn(),jQuery.each(this.fields,(function(index,field){field.enable()}))},disable:function(){this.disabled=!0,jQuery("#"+this.getHTMLId()).fadeOut(),jQuery.each(this.fields,(function(index,field){field.disable()}))},isDisabled:function(){return this.disabled}};var FormField=function(id){this.id=id,this.validationMessageEnabled=!1,this.hasConstraints=!1,this.formId=""};FormField.prototype={getId:function(){return this.id},getHTMLId:function(){return this.formId+"_"+this.id},setFormId:function(formId){this.formId=formId},HTMLFieldExists:function(){return jQuery("#"+this.getHTMLId()).length>0},enable:function(){this.HTMLFieldExists()&&jQuery("#"+this.getHTMLId()).prop("disabled",!1),jQuery("#"+this.getHTMLId()+"_field").fadeIn(),this.liveValidate()},disable:function(){this.HTMLFieldExists()&&jQuery("#"+this.getHTMLId()).prop("disabled",!0),jQuery("#"+this.getHTMLId()+"_field").fadeOut(),this.clearErrorMessage()},isDisabled:function(){if(this.HTMLFieldExists()){var element=jQuery("#"+this.getHTMLId()),disabled;if(0==element.prop("disabled")){var field=jQuery("#"+this.getHTMLId()+"_field"),display,display;return field?null!=(display=field.css("display"))&&"none"==display:null!=(display=element.css("display"))&&"none"==display}return!0}return!1},getValue:function(){this.HTMLFieldExists()||alert(this.getHTMLId()+" not exists, use get_js_specialization_code function in FormField and return field.getValue JS function contain the value");var field=jQuery("#"+this.getHTMLId());return field.is(":checkbox")?field.prop("checked"):(field_value=field.val(),null!=field_value?field_value:"")},setValue:function(value){var field=jQuery("#"+this.getHTMLId());return field.is(":checkbox")?field.prop("checked",value):field.val(value)},enableValidationMessage:function(){this.validationMessageEnabled=!0},displayErrorMessage:function(message){this.validationMessageEnabled&&jQuery("#"+this.getHTMLId()+"_field").length&&jQuery("#onblurContainerResponse"+this.getHTMLId()).length&&(jQuery("#"+this.getHTMLId()+"_field").removeClass("constraint-status-right").addClass("constraint-status-error"),jQuery("#onblurMessageResponse"+this.getHTMLId()).html(message),jQuery("#onblurMessageResponse"+this.getHTMLId()).fadeIn(500))},displaySuccessMessage:function(){this.validationMessageEnabled&&jQuery("#"+this.getHTMLId()+"_field").length&&jQuery("#onblurContainerResponse"+this.getHTMLId()).length&&(jQuery("#"+this.getHTMLId()+"_field").removeClass("constraint-status-error").addClass("constraint-status-right"),jQuery("#onblurMessageResponse"+this.getHTMLId()).hide())},clearErrorMessage:function(){jQuery("#"+this.getHTMLId()+"_field").length&&jQuery("#onblurContainerResponse"+this.getHTMLId()).length&&(jQuery("#"+this.getHTMLId()+"_field").removeClass("constraint-status-right").removeClass("constraint-status-error"),jQuery("#onblurMessageResponse"+this.getHTMLId()).html(""),jQuery("#onblurMessageResponse"+this.getHTMLId()).fadeOut(200))},liveValidate:function(){if(!this.isDisabled()&&this.hasConstraints){var errorMessage=this.doValidate();""!=errorMessage?this.displayErrorMessage('<i class="fa fa-minus-circle"></i>&nbsp;'+errorMessage):this.displaySuccessMessage()}},validate:function(){if(!this.isDisabled()&&this.hasConstraints){var errorMessage=this.doValidate();return""!=errorMessage&&(this.enableValidationMessage(),this.displayErrorMessage('<i class="fa fa-minus-circle"></i>&nbsp;'+errorMessage)),errorMessage}return""},doValidate:function(){return""}},jQuery(document).ready((function(){jQuery("input,textarea,select").focus((function(){jQuery(this).parent().parent().removeClass("constraint-status-error").removeClass("constraint-status-right"),jQuery(this).parent().children(".text-status-constraint").hide()})),jQuery('input[class="input-date"]').keyup((function(){var testCaretPattern=new RegExp("^[0-9-]$"),val=jQuery(this).val(),index=this.selectionStart-1;testCaretPattern.test(val.charAt(index))||jQuery(this).val(val.substr(0,index)+val.substr(index+1))})),jQuery('input[type="number"]').keyup((function(){var testValPattern=new RegExp("^[0-9]+([.|,]([0-9]{1,2})?)?$"),testCaretPattern=new RegExp("^[0-9.,]$"),val=jQuery(this).val();testCaretPattern.test(val.charAt(val.length-1))&&testValPattern.test(val)||jQuery(this).val(val.slice(0,-1))})),jQuery('input[type="tel"]').keyup((function(){var testCaretPattern=new RegExp("^[0-9-+ ]$"),val=jQuery(this).val(),index=this.selectionStart-1;testCaretPattern.test(val.charAt(index))||jQuery(this).val(val.substr(0,index)+val.substr(index+1))}))}));